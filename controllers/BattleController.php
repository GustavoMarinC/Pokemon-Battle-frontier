<?php

namespace app\controllers;

use Yii;
use yii\web\Controller;
use app\models\MoveEffect;

class BattleController extends Controller
{

    public function actionMoveEffect()
    {
        $model = new MoveEffect;

        if ($model->load(Yii::$app->request->post()) && $model->validate()) {

            $effectiveness = [
                9=>[9=>0.5,11=>1,7=>1,16=>0.5,13=>1,8=>0.5,10=>2,15=>0.5,2=>2,1=>0.5,12=>0.5,14=>0.5,6=>0.5,17=>0.5,5=>2,4=>0,3=>0.5],
                11=>[9=>0.5,11=>0.5,7=>1,16=>1,13=>2,8=>1,10=>0.5,15=>0.5,2=>1,1=>1,12=>2,14=>1,6=>1,17=>1,5=>1,4=>1,3=>1],
                7=>[9=>1,11=>1,7=>1,16=>1,13=>1,8=>1,10=>2,15=>1,2=>0.5,1=>1,12=>2,14=>1,6=>2,17=>1,5=>0.5,4=>1,3=>2],
                16=>[9=>1,11=>0.5,7=>1,16=>2,13=>0.5,8=>1,10=>0.5,15=>2,2=>1,1=>1,12=>0.5,14=>1,6=>1,17=>1,5=>1,4=>1,3=>1],
                13=>[9=>0.5,11=>1,7=>1,16=>1,13=>0.5,8=>1,10=>1,15=>1,2=>1,1=>1,12=>1,14=>1,6=>1,17=>1,5=>2,4=>1,3=>0.5],
                8=>[9=>1,11=>1,7=>0.5,16=>1,13=>1,8=>2,10=>1,15=>1,2=>0,1=>0,12=>1,14=>1,6=>1,17=>2,5=>1,4=>0.5,3=>1],
                10=>[9=>0.5,11=>2,7=>0.5,16=>1,13=>1,8=>1,10=>0.5,15=>0.5,2=>1,1=>1,12=>0.5,14=>1,6=>2,17=>1,5=>2,4=>1,3=>1],
                15=>[9=>2,11=>1,7=>1,16=>1,13=>1,8=>1,10=>2,15=>0.5,2=>2,1=>1,12=>1,14=>1,6=>2,17=>1,5=>1,4=>1,3=>1],
                2=>[9=>1,11=>1,7=>0.5,16=>1,13=>1,8=>1,10=>1,15=>1,2=>1,1=>1,12=>1,14=>2,6=>0.5,17=>0.5,5=>1,4=>1,3=>2],
                1=>[9=>1,11=>1,7=>1,16=>1,13=>1,8=>0,10=>1,15=>1,2=>2,1=>1,12=>1,14=>1,6=>1,17=>1,5=>1,4=>1,3=>1],
                12=>[9=>1,11=>0.5,7=>2,16=>1,13=>0.5,8=>1,10=>2,15=>2,2=>1,1=>1,12=>1,14=>2,6=>1,17=>1,5=>0.5,4=>2,3=>2],
                14=>[9=>1,11=>1,7=>2,16=>1,13=>1,8=>2,10=>1,15=>1,2=>0.5,1=>1,12=>1,14=>0.5,6=>1,17=>2,5=>1,4=>1,3=>1],
                6=>[9=>2,11=>2,7=>1,16=>1,13=>1,8=>1,10=>0.5,15=>1,2=>2,1=>0.5,12=>2,14=>1,6=>1,17=>1,5=>2,4=>0.5,3=>0.5],
                17=>[9=>1,11=>1,7=>2,16=>1,13=>1,8=>0.5,10=>1,15=>1,2=>2,1=>1,12=>1,14=>0,6=>1,17=>0.5,5=>1,4=>1,3=>1],
                5=>[9=>1,11=>2,7=>1,16=>1,13=>0,8=>1,10=>1,15=>2,2=>1,1=>1,12=>2,14=>1,6=>0.5,17=>1,5=>1,4=>0.5,3=>1],
                4=>[9=>1,11=>1,7=>0.5,16=>1,13=>1,8=>1,10=>1,15=>1,2=>0.5,1=>1,12=>0.5,14=>2,6=>1,17=>1,5=>2,4=>0.5,3=>1],
                3=>[9=>1,11=>1,7=>0.5,16=>1,13=>2,8=>1,10=>1,15=>2,2=>0.5,1=>1,12=>0.5,14=>1,6=>2,17=>1,5=>0,4=>1,3=>1]
            ];

        $hp = (((((2 * 100 / 5 + 2) * Ataque * Poder / Defensa) / 50) + 2) * STAB * Efec.Tipo1 * Efec.Tipo2 * Rnd / 100);

            return $this->render('battle', ['model' => $model]);
        } else {

            return $this->render('battle', ['model' => $model]);
        }
    }
}